{"name":"Postgres91plusauditor","tagline":"Postgres 91 plus Auditor is a QGIS plugin providing an interface to rollback changes on postgis layers using the Audit Trigger 91 plus","body":"# About\r\n\r\nPostgres 91 plus Auditor is [QGIS](http://www.qgis.org) plugin providing an interface to rollback on postgis layers using the [Audit Trigger 91 plus](http://wiki.postgresql.org/wiki/Audit_trigger_91plus)\r\n\r\n\r\n# The Audit Trigger 91 plus\r\n\r\nThe [Audit Trigger 91 plus](http://wiki.postgresql.org/wiki/Audit_trigger_91plus) is a generic trigger function used for recording changes to tables into an audit log table. It records quite a bit more detail than the [older](http://wiki.postgresql.org/wiki/Audit_trigger) Audit trigger and does so in a more structured manner.\r\n\r\nThe trigger should be up-to-date on Postgres website but the trigger code lives on [github](https://github.com/2ndQuadrant/audit-trigger).\r\n\r\nFollow the setps described on Postgres wiki to install and use the trigger.\r\n\r\n# Rolling-back\r\n\r\nThe plugin allows you to rollback individual features. It is more aimed at correcting editing errors than viewing a whole dataset at a previous state.\r\nYou can restore or recreate a feature from any logged action. The rollback will not erase the logged actions but rather create a new state. In other words, the rollbacks is considered as an update and a new row will therefore be added to the logged actions table.\r\nHence, even a rollback can be rollbacked.\r\n\r\n# Plugin setup\r\n\r\nOnce ou have enabled the trigger, just add the *logged_actions* table as a no geometry layer. Then, _define the logged actions layer_ from the plugin menu.\r\n\r\nThe option **Redefine layer subset to increase performance** is recommended. While looking for actions, instead of looping over all rows it will redefine a SQL layer subset which is drastically faster.\r\n\r\n# Use the plugin\r\n\r\nYou can start looking for any changes by clicking the plugin icon ![icon](https://raw.github.com/3nids/postgres91plusauditor/master/icons/qaudit-20.png). Choose a layer and eventually specify a feature ID.\r\nRestrictions can be set to search insert/update/delete action, only geometry changes or by date.\r\n\r\nYou can also search for a specific feature changes, by right-clicking on the feature edit form and choosing _History audit_.\r\n\r\nOnce logged actions have been found, click on a row to see the differences with current feature if it exists.\r\n\r\nIf the corresponding layer is in editing mode, the feature can be reset.\r\n\r\n\r\n\r\n\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}